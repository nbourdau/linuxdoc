

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>kernel-doc introduction &mdash; LinuxDoc 20170614 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="LinuxDoc 20170614 documentation" href="../index.html"/>
        <link rel="up" title="LinuxDoc HowTo" href="index.html"/>
        <link rel="next" title="kernel-doc syntax" href="kernel-doc-syntax.html"/>
        <link rel="prev" title="LinuxDoc HowTo" href="index.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> LinuxDoc
          

          
          </a>

          
            
            
              <div class="version">
                20170614
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">Install LinuxDoc</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">LinuxDoc HowTo</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">kernel-doc introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="kernel-doc-syntax.html">kernel-doc syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="kernel-doc-directive.html">kernel-doc in reST documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="kernel-doc-examples.html">kernel-doc examples &amp; tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="reST-kernel-doc-mode.html">reST kernel-doc mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="vintage-kernel-doc-mode.html">Vintage kernel-doc mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="kfigure.html">Scalable figure and image handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="table-markup.html">About tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="cdomain.html">Customized sphinx c-domain</a></li>
<li class="toctree-l2"><a class="reference internal" href="man-pages.html">man pages from kernel-doc comments</a></li>
<li class="toctree-l2"><a class="reference internal" href="kernel-include-directive.html">Use kernel-include in reST documents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cmd-line.html">Command line tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../linux.html">Patch Linux Kernel Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../linuxdoc-api/linuxdoc.html">linuxdoc package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">LinuxDoc</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">LinuxDoc HowTo</a> &raquo;</li>
        
      <li>kernel-doc introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/linuxdoc-howto/kernel-doc-intro.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="kernel-doc-introduction">
<span id="kernel-doc-intro"></span><h1>kernel-doc introduction<a class="headerlink" href="#kernel-doc-introduction" title="Permalink to this headline">¶</a></h1>
<p>In order to embed <strong>“C” friendly</strong> and extractable documentation into C/C++
source code comments, the Kernel community adopted a consistent style for
documentation comments. The markup for this documentation is called the
<strong>kernel-doc format</strong>.  This style embeds the documentation within the source
files, using a few simple conventions for adding documentation paragraphs and
documenting functions and their parameters, structures and unions and their
members, enumerations, and typedefs.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The kernel-doc format is deceptively similar to Doxygen, javadoc or <a class="reference external" href="http://www.sphinx-doc.org/en/stable/ext/autodoc.html">Sphinx’s
autodoc</a> which grabs for comments in <a class="reference external" href="http://www.sphinx-doc.org/en/stable/domains.html#the-python-domain">Sphinx’s Python domain</a>.  The kernel-doc
format has a long tradition, e.g. its also well highlighted in your emacs ;)</p>
</div>
<p>If you are familiar with Sphinx, you might know about <a class="reference external" href="http://www.sphinx-doc.org/en/stable/domains.html#cross-referencing-c-constructs">Sphinx’s C domain</a>
markup. Compared with the kernel-doc markup is less verbose, more <strong>“C”
friendly</strong> and there exists a kernel-doc parser. The kernel-doc parser grabs the
documentation from your C sources and generates proper reST, which contain
markup of <a class="reference external" href="http://www.sphinx-doc.org/en/stable/domains.html#cross-referencing-c-constructs">Sphinx’s C domain</a>. The descriptions are filtered for special
kernel-doc highlights and cross-references.</p>
<p>The opening comment mark <code class="docutils literal"><span class="pre">/**</span></code> is reserved for kernel-doc comments.  Only
comments so marked will be considered by the kernel-doc tools, and any comment
so marked must be in kernel-doc format.  The closing comment marker for
kernel-doc comments can be either <code class="docutils literal"><span class="pre">*/</span></code> or <code class="docutils literal"><span class="pre">**/</span></code>, but <code class="docutils literal"><span class="pre">*/</span></code> is preferred in
the Linux kernel tree.  The lines in between should be prefixed by ``&nbsp;*&nbsp;``
(space star space).</p>
<p>Example kernel-doc function comment:</p>
<div class="highlight-c"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * foobar() - short function description of foobar</span>
<span class="cm"> *</span>
<span class="cm"> * @arg1: Describe the first argument to foobar.</span>
<span class="cm"> * @arg2: Describe the second argument to foobar.</span>
<span class="cm"> *        One can provide multiple line descriptions</span>
<span class="cm"> *        for arguments.</span>
<span class="cm"> *</span>
<span class="cm"> * A longer description, with more discussion of the function foobar()</span>
<span class="cm"> * that might be useful to those using or modifying it.  Begins with</span>
<span class="cm"> * empty comment line, and may include additional embedded empty</span>
<span class="cm"> * comment lines.</span>
<span class="cm"> *</span>
<span class="cm"> * The longer description can have multiple paragraphs.</span>
<span class="cm"> *</span>
<span class="cm"> * Return:</span>
<span class="cm"> * Describe the return value of foobar.</span>
<span class="cm"> */</span>
<span class="kt">int</span> <span class="nf">foobar</span><span class="p">(</span><span class="kt">int</span> <span class="n">arg1</span><span class="p">,</span> <span class="kt">int</span> <span class="n">arg2</span><span class="p">);</span>
</pre></div>
</div>
<p>Compare this example with the reST needed by Sphinx (see below) and produced by
the kernel-doc parser and you will see why kernel-doc markup is much more <strong>C
friendly</strong>.</p>
<div class="highlight-rst"><div class="highlight"><pre><span></span><span class="p">..</span> <span class="nt">_`foobar`:</span>

<span class="gh">foobar</span>
<span class="gh">======</span>

<span class="p">..</span> <span class="ow">c:function</span><span class="p">::</span> int foobar(int arg1, int arg2)

    short function description of foobar

    :param int arg1:
        Describe the first argument to foobar.

    :param int arg2:
        Describe the second argument to foobar.
        One can provide multiple line descriptions
        for arguments.

<span class="p">..</span> <span class="nt">_`foobar.description`:</span>

<span class="gh">Description</span>
<span class="gh">-----------</span>

A longer description, with more discussion of the function <span class="na">:c:func:</span><span class="nv">`foobar`</span>
that might be useful to those using or modifying it.  Begins with empty
comment line, and may include additional embedded empty comment lines. Within
you can refer other definitions (names like :c:type:`struct foos_struct
<span class="nt">&lt;foos_struct&gt;</span><span class="nv">` or  :c:type:`</span>struct bars_typedef &lt;bars_typedef&gt;`).

The longer description can have multiple paragraphs.

<span class="p">..</span> <span class="nt">_`foobar.return`:</span>

<span class="gh">Return</span>
<span class="gh">------</span>

Describe the return value of foobar.
</pre></div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="kernel-doc-syntax.html" class="btn btn-neutral float-right" title="kernel-doc syntax" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="LinuxDoc HowTo" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017 Markus Heiser.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'20170614',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>